---

- name: Set tcp_minio_map var
  set_fact:
    tcp_minio_map: "{{ tcp_minio_map | default([]) +
                      [{'tcp_ip': tcp_ip,
                        'rocev2_ip': rocev2_ip,
                        'name': minio_name }] }}"
  with_together:
    - "{{ rocev2_vlan_ip_list }}"
    - "{{ tcp_vlan_ip_list }}"
  loop_control:
    label: "found: {{ minio_rocev2_ip }}, set {{ rocev2_ip }} => {{ tcp_ip }}"
  vars:
    rocev2_ip: "{{ item.0 }}"
    tcp_ip: "{{ item.1 }}"
  when: rocev2_ip == minio_rocev2_ip
